
<!DOCTYPE html>
<html lang="en">
<head>
    
    <link rel="stylesheet" href="assets/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="login.css">
    <title>Log In</title>
    <link rel = "icon" href = "scale.png" type = "image/x-icon"> 

</head>
<body>
    <div class="dashboard-header">
        <nav class="navbar navbar-expand-lg bg-white fixed-top">
            <img class="navbar-brand" src="horizontalLogo.png" alt="navbar logo" style=" margin-top: -1rem; margin-bottom: -1rem; width: 11%; ">
        </nav>
    </div>

    <div class="container">
      
        <div class="login">
            <form onsubmit="return false" method="post" id="loginForm">
                <img class="scale" src="schuppLogo.png" alt="scale">
                <input type="text" placeholder="username" name="email" id="email"/>
                <input type="password" placeholder="password" name="password" id="password"/>
                <button type="submit" onclick="login()" id="submit">login</button>
                <p class="message" data-toggle="modal" data-target="#modal1">Not registered? <a href="#">Create an account</a></p>
            </form>
        </div>
    </div>
  
  <!-- Modal 1 -->
  <div class="modal fade" id="modal1" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="card">
            <div class="text-center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div>
                <h3>Create an account</h3>
            </div>

            <form onsubmit="return false" method="post" id="signUpForm">
                <div class="form mt-3">
                    <div class="input-group inputbox"> <input type="text" placeholder="First name" class="form-control"> <input type="text" placeholder="Last name" class="form-control"> </div>
                    <div class="inputbox"> <input name="email" id="signUpEmail" type="text" class="form-control" placeholder="Email"> </div>
                    <div class="inputbox"> <input id="signUpUserName" type="text" class="form-control" placeholder="User Name"> </div>
                    <div class="inputbox"> <input id="signUpOfficePhone" type="text" class="form-control" placeholder="Office Phone"> </div>
                    <div class="inputbox"> <input id="signUpCellPhone" type="text" class="form-control" placeholder="Cell Phone"> </div>
                    <div class="inputbox"> <input id="signUpFax" type="text" class="form-control" placeholder="Fax"> </div>

                    <div class="inputbox">
                        <select name="Watson Office" id="office" class="form-control">
                        <option value="none" id="firstSelect" selected disabled hidden>Watson Office</option>
                        <option value="Office1">Office1</option>
                        <option value="Office2">Office2</option>
                        <option value="Office3">Office3</option>
                        <option value="Office4">Office4</option>
                        <option value="Office5">Office5</option>
                        <option value="Office6">Office6</option>
                        <option value="Office7">Office7</option>
                        <option value="Office8">Office8</option>
                        </select>
                    </div>

                    <div class="inputbox"> <input name="password" id="signUpPassword" type="password" class="form-control" placeholder="Password"> </div>
                    <div class="inputbox"> <input id="signUpConfirmPassword" type="password" class="form-control" placeholder="Confirm Password"> </div>
                </div>
                <div class="mt-4 proceed" onclick="signUp()"> <button aria-label="Close" class="btn btn-primary btn-block d-flex flex-row justify-content-between align-items-center">
                        <div class="text-right" > <span >Sign Up</span> </div>
                        <div class="text-right"> <span><i class="fa fa-long-arrow-right align-items-center"></i></span> </div>
                    </button> </div>
            </form>
            </div>
        </div>
    </div>
  </div>

    <!-- Modal 2 -->
    <div class="modal fade" id="modal2" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="card">
                    <div class="text-center">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div>
                        <h2>User application submitted</h2>
                        <h3>Await email confirmation</h3>
                    </div>
                    <div class="form mt-3">
                    </div>
                    <div class="mt-4 proceed"> <button data-target="#modal2" data-dismiss="modal" class="btn btn-primary btn-block d-flex flex-row justify-content-between align-items-center">
                        <div class="text-right"> <span >Close</span> </div>
                            <div class="text-right"> <span><i class="fa fa-long-arrow-right align-items-center"></i></span> </div>
                        </button> </div>
                </div>
            </div>
        </div>
    </div>

    <%- include('includes/scripts'); %>
       
    <script src="assets/vendor/jquery/jquery-3.3.1.min.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.js"></script>

    <script>
        function login() {
            if($('#email').val() !='' && $('#password').val() !='') {
                $.post('/login',$('#loginForm').serialize()).done(function() {
                    window.location.replace('/homePage')
                    console.log("Home page post was hit")
                    alert("Home page post was hit")
                }).fail(function(){
                    alert("Incorrect Username & Password.")
                })
            }
            else{
                alert("Please input Username & Password.")
            }
        }

        function signUp() {
            if($('#signUpEmail').val() !='' && $('#signUpPassword').val() !='') {
                if ($('#signUpPassword').val() != $('#signUpConfirmPassword').val()){
                    alert("Passwords did not match.")
                }
                else {
                    var testing = $('#signUpForm').serialize();
                    debugger;

                    $.post('/signUp',$('#signUpForm').serialize()).done(function() {
                        // window.location.replace('/homePage')
                        // console.log("Home page post was hit")
                        // alert("Home page post was hit")
                    }).fail(function(){
                        alert("Invalid.")
                    })
                }
            }
            else{
                alert("Please input Username & Password.")
            }
        }


        $(document).ready(function(){
            
        })
    </script>
</body>
</html>